<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: TimelineId.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: TimelineId.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>var b64 = require("../util/b64"),
    URN = require("../util/URN"),
    TimelineId;

/**
 * @class TimelineId
 * 
 * @classdesc 
 * Globally unique identifier for a content timeline.
 * 
 * @example
 * // Create instance
 * var timlineId = new TimelineId("ctx1", "dvc1", "src1");
 * 
 * // Returns "urn:ctx1:dvc1:src1"
 * var urnString = timelineId.toUrnString();
 * 
 * // Creates new timeline instance from URN string
 * timelineId = TimelineId.parse(urnString);
 * 
 * // Returns "ctx1"
 * timelineId.contextId;
 * 
 * @constructor
 * @param {string} contextId
 * @param {string} deviceId
 * @param {string} sourceId
 */
TimelineId = function (contextId, deviceId, sourceId) {

    var contextId, deviceId, sourceId; 
    
    contextId = contextId;
    deviceId = deviceId;
    sourceId = sourceId;

    Object.defineProperties(this, {

        /**
         * @var {string} contextId
         * @memberof TimelineId
         * @readonly
         * @instance
         */
        "contextId": {
            get: function () { return contextId; },
            enumerable: true
        },

        /**
         * @var {string} deviceId
         * @memberof TimelineId
         * @readonly
         * @instance
         */
        "deviceId": {
            get: function () { return deviceId; },
            enumerable: true
        },

        /**
         * @var {string} sourceId
         * @memberof TimelineId
         * @readonly
         * @instance
         */
        "sourceId": {
            get: function () { return sourceId; },
            enumerable: true
        }
    });
};

/**
 * Converts the TimelineId obejct into URN string representation.
 * @returns {string} URN formatted string. 
 */
TimelineId.prototype.toUrnString = function () {
    var id = [];
    id.push(this.contextId);
    id.push(this.deviceId);
    id.push(b64.encodeUnicode(this.sourceId));
    return URN.stringify(id);
};

/**
 * Creates a TimelineId object from its URN string representation.
 * @param {string} urnString URN formatted string urn:&lt;contextId>:&lt;deviceId>:&lt;sourceId>
 * @returns {TimelineId}
 */
TimelineId.fromUrnString = function (urnString) {
    var id, instance;
    id = URN.parse(urnString);
    id[2] = id[2] &amp;&amp; b64.decodeUnicode(id[2]) || null;
    instance = new (Function.prototype.bind.apply(TimelineId, [null].concat(id)));
    return instance;
};

module.exports = TimelineId;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="PresentationTimestamp.html">PresentationTimestamp</a></li><li><a href="Timeline.html">Timeline</a></li><li><a href="TimelineId.html">TimelineId</a></li><li><a href="Timelines.html">Timelines</a></li><li><a href="Timestamp.html">Timestamp</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.4</a> on Thu Dec 07 2017 14:44:58 GMT+0000 (GMT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
